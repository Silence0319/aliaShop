

{include file="common/header"}


  <div class="content content-nav-base commodity-content">
    <div class="main-nav">
      <div class="inner-cont0">
        <div class="inner-cont1 w1200">
          <div class="inner-cont2">
            <a href="{:url('index/index')}">首页</a>
            <a href="{:url('all/index')}">所有商品</a>
            <a href="{:url('index/buytoday')}">今日团购</a>
            <a href="{:url('news/index')}">零食资讯</a>
            <a href="{:url('index/about')}">关于我们</a>
          </div>

        </div>
      </div>
    </div>
    <div class="commod-cont-wrap">
      <div class="commod-cont w1200 layui-clear">
        <div class="left-nav">
          <div class="title">个人中心</div>
          <div class="list-box">
            
            <ul>
              <li><a href="{:url('info/index')}">个人信息</a></li>
              <li><a href="{:url('info/order')}">我的订单</a></li>
              <li><a href="{:url('info/collect')}">我的收藏</a></li>
              <li><a href="{:url('info/address')}">收货地址</a></li>
              <li><a href="{:url('info/password')}">修改密码</a></li>
            </ul>
          </div>
        </div>
        <div class="right-cont-wrap">
          <div class="right-cont" style="background-color: #fff;min-height: 500px;height: auto;width: 850px">
            <!-- 订单 -->
            <div>
              <div class="layui-tab">
                  <ul class="layui-tab-title">
                    <li class="layui-this">基本信息</li>
                    <li>修改信息</li>
                  </ul>
                  <div class="layui-tab-content">
                    <!-- 基本信息 -->
                    <div class="layui-tab-item layui-show">
                      <form class="layui-form" action="">
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">会员名:</label>
                          <div class="layui-input-inline" style="padding: 11px 0">
                            <p>{$user.name}</p>
                          </div>
                        </div>
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">邮箱:</label>
                          <div class="layui-input-inline" style="padding: 11px 0">
                            <p>{$user.email}</p>
                          </div>
                        </div>
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">手机号:</label>
                          <div class="layui-input-inline" style="padding: 11px 0">
                            <p>{$user.phone}</p>
                          </div>
                        </div>
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">真实姓名:</label>
                          <div class="layui-input-inline" style="padding: 11px 0">
                            <p>{$user.trueName}</p>
                          </div>
                        </div>
                         
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">性别:</label>
                          <div class="layui-input-inline" style="padding: 11px 0">
                            <p>
                              {if condition="$user.sex eq 1"}
                              男
                              {elseif condition="$user.sex eq 2"}
                              女
                              {/if}
                            </p>
                          </div>
                        </div>
                        
                        <div class="layui-form-item" style="margin-bottom: 0px;">
                          <label class="layui-form-label">住址:</label>
                          <div class="layui-input-block" style="padding: 11px 0">
                            <p>{$user.province}{$user.city}{$user.area}{$user.address}</p>
                          </div>
                        </div>
                        <div class="layui-form-item" style="margin-bottom: 8px;">
                          <label class="layui-form-label">加入时间:</label>
                          <div class="layui-input-block" style="padding: 11px 0">
                            <p>{$user.inTime}</p>
                          </div>
                        </div>
                         
                         
                      </form>
                    </div>
                    <!-- 修改信息 -->
                    <div class="layui-tab-item">
                      <form class="layui-form" action="" id="formData">
                        <div class="layui-form-item">
                          <label class="layui-form-label">会员名:</label>
                          <div class="layui-input-inline">
                            <input type="text" name="name" required  lay-verify="required" placeholder="请输入会员名" autocomplete="off" class="layui-input" value="{$user.name}">
                          </div>
                        </div>
                        <div class="layui-form-item">
                          <label class="layui-form-label">邮箱:</label>
                          <div class="layui-input-block">
                            <input type="email" name="email" required  lay-verify="required" placeholder="请输入邮箱" autocomplete="off" class="layui-input" value="{$user.email}">
                          </div>
                        </div>
                        <div class="layui-form-item">
                          <label class="layui-form-label">手机号:</label>
                          <div class="layui-input-block">
                            <input type="tel" name="phone" required  lay-verify="required" placeholder="请输入手机号" autocomplete="off" class="layui-input" value="{$user.phone}" disabled="">
                          </div>
                        </div>
                        <div class="layui-form-item">
                          <label class="layui-form-label">真实姓名:</label>
                          <div class="layui-input-inline">
                            <input type="text" name="trueName" required  lay-verify="required" placeholder="请输入真实姓名" autocomplete="off" class="layui-input" value="{$user.trueName}">
                          </div>
                        </div>
                       
                        <div class="layui-form-item">
                          <label class="layui-form-label">单选框:</label>
                          <div class="layui-input-block">
                            {if condition="$user.sex eq 1"}
                            <input type="radio" name="sex" value="1" title="男" checked>
                            <input type="radio" name="sex" value="2" title="女">
                            {elseif condition="$user.sex eq 2"}
                            <input type="radio" name="sex" value="1" title="男" >
                            <input type="radio" name="sex" value="2" title="女" checked>
                            {/if}
                          </div>
                        </div>
                        
                        <div class="layui-form-item" id="area-picker">
                          <div class="layui-form-label">地址</div>
                          <div class="layui-input-inline" style="width: 200px;">
                            <select name="province" class="province-selector" data-value="" lay-filter="province-1">
                              <option value="">--选择省--</option>
                            </select>
                          </div>
                          <div class="layui-input-inline" style="width: 200px;">
                              <select name="city" class="city-selector" data-value="" lay-filter="city-1">
                                  <option value="">--选择市--</option>
                              </select>
                          </div>
                          <div class="layui-input-inline" style="width: 200px;">
                              <select name="area" class="county-selector" data-value="" lay-filter="county-1">
                                  <option value="">--选择区--</option>
                              </select>
                          </div>
                        </div>

                        <div class="layui-form-item layui-form-text">
                          <label class="layui-form-label">详细住址:</label>
                          <div class="layui-input-block">
                            <textarea name="address" placeholder="请输入内容" class="layui-textarea">{$user.address}</textarea>
                          </div>
                        </div>
                        <div class="layui-form-item">
                          <div class="layui-input-block">
                            <button class="layui-btn layui-btn-sm" lay-submit lay-filter="submit">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary layui-btn-sm">重置</button>
                          </div>
                        </div>
                      </form>
                    </div>
                </div>
              </div>
            </div>
              
          
             
          </div>
        </div>
      </div>
    </div>
  </div>
  
{include file="common/footer"}
<script>

  layui.config({
    base: '__PUBLIC__static/js/util/' //你存放新模块的目录，注意，不是layui的模块目录
  }).use(['mm','laypage','jquery'],function(){
      var laypage = layui.laypage,$ = layui.$,
     mm = layui.mm;
       laypage.render({
        elem: 'demo0'
        ,count: 100 //数据总数
      });
 

    $('.sort a').on('click',function(){
      $(this).addClass('active').siblings().removeClass('active');
    });
    //初始化分类子列表隐藏
    $('.list-box dt').addClass('active').siblings('dd').hide();
    $('.list-box dt').attr('off',true);
    //点击隐藏/开启分类列表
    $('.list-box dt').on('click',function(){
      if($(this).attr('off')){
        $(this).removeClass('active').siblings('dd').show()
        $(this).attr('off','')
      }else{
        $(this).addClass('active').siblings('dd').hide()
        $(this).attr('off',true)
      }
    })

});


//表单验证
layui.use(['form','layedit','laydate','jquery'], function(){
  var form=layui.form
  ,layer=layui.layer
  ,layedit=layui.layedit
  ,laydate=layui.laydate
  ,$=layui.jquery;

  //日期
  laydate.render({
    elem: '#date'
  });
  
  //表单提交
  form.on('submit(submit)',function(data){
    console.log(data);
    $.ajax({
      type:"post",
      url:"{:url('edit/info')}",
      data:$("#formData").serialize(),
      dataType:"json",
      success:function(res){
        if(res.status==1){
          layer.msg(res.message);
        }
      },
      error:function(res)
      {
        layer.msg('发送请求失败');
      }
    });
  });

});

//三级联动，配置插件目录
        layui.config({
            base: '__PUBLIC__static/mods/'
            , version: '1.0'
        });
        //一般直接写在一个js文件中
        layui.use(['layer', 'form', 'layarea'], function () {
            var layer = layui.layer
                , form = layui.form
                , layarea = layui.layarea;

            layarea.render({
                elem: '#area-picker',
                change: function (res) {
                    //选择结果
                    console.log(res);
                }
            });
        });
 
 
</script>


</body>
</html>